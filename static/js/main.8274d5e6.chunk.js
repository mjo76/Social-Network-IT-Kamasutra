(this.webpackJsonp02=this.webpackJsonp02||[]).push([[0],{128:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1h9DH",selected:"users_selected__2SrWY",normal:"users_normal__1VBmM"}},129:function(e,t,n){e.exports={content:"Post_content__3C1Pt",item:"Post_item__35nHe"}},16:function(e,t,n){e.exports={nav:"Navbar_nav__1hLu_",item:"Navbar_item__XB9aM",activeLink:"Navbar_activeLink__lwG8R"}},160:function(e,t,n){},28:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__145bH",dialogsItems:"Dialogs_dialogsItems__wkD-u",active:"Dialogs_active__3ceRw",NavLink:"Dialogs_NavLink__36QtR",dialog:"Dialogs_dialog__11Bl7",messages:"Dialogs_messages__1wFQI",message:"Dialogs_message__1XlJr",button:"Dialogs_button__Ydgad"}},288:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(63),o=n.n(a),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),a(e),o(e)}))},c=n(25),u=n(65),l=n(27),d=n(26),j=(n(160),n(16)),f=n.n(j),b=n(13),p=n(0),g=function(){return Object(p.jsxs)("nav",{className:f.a.nav,children:[Object(p.jsx)("div",{className:"".concat(f.a.item," ").concat(f.a.active),children:Object(p.jsx)(b.b,{to:"/profile",activeClassName:f.a.activeLink,children:"Profile"})}),Object(p.jsx)("div",{className:f.a.item,children:Object(p.jsx)(b.b,{to:"/dialogs",activeClassName:f.a.activeLink,children:"Messages"})}),Object(p.jsx)("div",{className:f.a.item,children:Object(p.jsx)(b.b,{to:"/users",activeClassName:f.a.activeLink,children:"Users"})}),Object(p.jsx)("div",{className:f.a.item,children:Object(p.jsx)(b.b,{to:"/news",activeClassName:f.a.activeLink,children:"News"})}),Object(p.jsx)("div",{className:f.a.item,children:Object(p.jsx)(b.b,{to:"/music",activeClassName:f.a.activeLink,children:"Music"})}),Object(p.jsx)("div",{className:f.a.item,children:Object(p.jsx)(b.b,{to:"/settings",activeClassName:f.a.activeLink,children:"Settings"})})]})},h=n(11),O=n(42),m=n(3),x="ADD_NEW_MESSAGE",v={dialogs:[{id:1,name:"Alex"},{id:2,name:"Ivan"},{id:3,name:"Sveta"},{id:4,name:"Ira"},{id:5,name:"Venik"}],messages:[{id:1,text:"Hi"},{id:2,text:"How are you"},{id:3,text:"Yo"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var n={id:4,text:t.newMessageText};return Object(m.a)(Object(m.a)({},e),{},{messages:[].concat(Object(O.a)(e.messages),[n])});default:return e}},P=n(12),w=n(28),S=n.n(w),C=function(e){var t="/dialogs/"+e.id;return Object(p.jsx)("div",{className:S.a.dialog+" "+S.a.active,children:Object(p.jsx)(b.b,{to:t,children:e.name})})},y=function(e){return Object(p.jsx)("div",{className:S.a.message,children:e.text})},N=n(121),k=n(122),I=n(67),A=n(37),U=n.n(A),F=["input","meta","FormType"],T=function(e){var t=e.input,n=e.meta,r=n.error,s=n.touched,a=e.FormType,o=Object(I.a)(e,F),i=r&&s;return Object(p.jsxs)("div",{className:U.a.formControl+" "+(i?U.a.error:""),children:[Object(p.jsx)("div",{children:Object(p.jsx)(a,Object(m.a)(Object(m.a)({},t),o))}),Object(p.jsx)("span",{children:i&&r})]})},E=function(e){return Object(p.jsx)(T,Object(m.a)(Object(m.a)({},e),{},{FormType:"textarea"}))},L=function(e){return Object(p.jsx)(T,Object(m.a)(Object(m.a)({},e),{},{FormType:"input"}))},M=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(p.jsxs)("div",{children:[Object(p.jsx)(N.a,Object(m.a)({placeholder:e,name:t,component:n,validate:r},s)),a]})},z=function(e){if(!e)return"Field is required"},D=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},R=D(50),H=Object(k.a)({form:"addMessage"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)("button",{className:S.a.button,children:" Add message"})}),Object(p.jsx)("div",{children:Object(p.jsx)(N.a,{placeholder:"Enter your message",component:E,name:"dialogsAddMessage",validate:[z,R]})})]})})),G=function(e){return Object(p.jsxs)("div",{className:S.a.dialogs,children:[Object(p.jsxs)("div",{className:S.a.dialogsItems,children:[e.dialogsState.dialogs.map((function(e){return Object(p.jsx)(C,{name:e.name,id:e.id})})),Object(p.jsx)(H,{onSubmit:function(t){e.onAddMessageClick(t.dialogsAddMessage)}})]}),Object(p.jsx)("div",{className:S.a.messages,children:e.dialogsState.messages.map((function(e){return Object(p.jsx)(y,{text:e.text})}))})]})},B=function(e){return{isAuth:e.auth.isAuthorized}},W=function(e){var t=function(t){Object(l.a)(r,t);var n=Object(d.a)(r);function r(){return Object(c.a)(this,r),n.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(e,Object(m.a)({},this.props)):Object(p.jsx)(h.a,{to:"/login"})}}]),r}(s.a.Component);return Object(P.b)(B,null)(t)},J=n(9),X=Object(J.d)(W,Object(P.b)((function(e){return{dialogsState:e.dialogsPage}}),(function(e){return{onAddMessageClick:function(t){e({type:x,newMessageText:t})}}})))(G),Y=n(10),K=n.n(Y),Q=n(20),V=n(127),Z=(n.p,V.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"438f0413-fb9f-45d9-9756-2b432579f6b7"}})),q={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Z.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return Z.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return Z.delete("follow/".concat(e)).then((function(e){return e.data}))},getUserProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.getUserProfile (id)"),$.getUserProfile(e)},setUserProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.setUserProfile (id)"),$.setUserProfile(e)}},$={getUserProfile:function(e){return Z.get("profile/".concat(e)).then((function(e){return e.data}))},setUserProfile:function(e){return Z.get("/profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return Z.get("/profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return Z.put("/profile/status",{status:e}).then((function(e){return e.data}))}},ee=function(){return Z.get("auth/me").then((function(e){return e.data}))},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Z.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},ne=function(){return Z.delete("auth/login").then((function(e){return e.data}))},re=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(m.a)(Object(m.a)({},e),r):e}))},se="FOLLOW",ae="UNFOLLOW",oe="SET_USERS",ie="SET_CURRENT_PAGE",ce="SET_TOTAL_USERS_COUNT",ue="TOGGLE_IS_FETCHING",le="TOGGLE_IS_FOLLOWING",de={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},je=function(e){return{type:se,userId:e}},fe=function(e){return{type:ae,userId:e}},be=function(e){return{type:ue,isFetching:e}},pe=function(e,t){return{type:le,isFetching:e,userId:t}},ge=function(){var e=Object(Q.a)(K.a.mark((function e(t,n,r,s){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(pe(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(pe(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(m.a)(Object(m.a)({},e),{},{users:re(e.users,t.userId,"id",{followed:!0})});case ae:return Object(m.a)(Object(m.a)({},e),{},{users:re(e.users,t.userId,"id",{followed:!1})});case oe:return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case ie:return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case ce:return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.totalCount});case ue:return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case le:return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(O.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Oe=n(54),me=n(43),xe=n.n(me),ve=function(e){for(var t,n=e.totalItemsCount,s=e.pageSize,a=e.currentPage,o=void 0===a?1:a,i=e.onPageChange,c=e.portionSize,u=void 0===c?10:c,l=function(e){i((e-1)*u+1),x(e)},d=(t=Math.ceil(n/s),function(e){if(e&&e>t)return"Max number is ".concat(t)}),j=Object(k.a)({form:"pageNum"})((function(e){var t=e.handleSubmit,n=e.error;return Object(p.jsxs)("form",{className:xe.a.form,onSubmit:t,children:[M("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","pageNum",L,[d],{type:"input"}),n&&Object(p.jsxs)("div",{className:U.a.formSummaryError,children:[n," "]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{className:xe.a.button,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]})})),f=Math.ceil(n/s),b=[],g=Math.ceil(f/u),h=Object(r.useState)(Math.ceil(o/u,0)),O=Object(Oe.a)(h,2),m=O[0],x=O[1],v=(m-1)*u+1,_=m*u,P=0;P<f;P++)b[P]=P+1;return Object(p.jsxs)("div",{className:xe.a.paginator,children:[m>1&&Object(p.jsx)("button",{onClick:function(){return l(1)},children:"<<"}),m>1&&Object(p.jsx)("button",{onClick:function(){return l(m-1)},children:"<"}),b.filter((function(e){return e>=v&&e<=_})).map((function(e){return Object(p.jsx)("span",{className:+o===+e?xe.a.selectedPage:xe.a.pageNumber,onClick:function(t){i(e)},children:e})})),m<g&&Object(p.jsx)("button",{onClick:function(){return l(m+1)},children:">"}),m<g&&Object(p.jsx)("button",{onClick:function(){return l(g)},children:">>"}),Object(p.jsx)(j,{onSubmit:function(e){i(e.pageNum),x(Math.ceil(e.pageNum/u),0)}})]})},_e=n(128),Pe=n.n(_e),we=n.p+"static/media/defaultuserphoto.b0631ea7.png",Se=function(e){var t=e.user,n=e.key,r=e.followingInProgress,s=e.follow,a=e.unFollow;return Object(p.jsx)("div",{children:Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(b.b,{to:"/profile/"+t.id,children:Object(p.jsx)("img",{src:null!=t.photos.small?t.photos.small:we,className:Pe.a.userPhoto})})}),Object(p.jsx)("div",{children:t.followed?Object(p.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(p.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Follow"})}),Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:t.name}),Object(p.jsx)("div",{children:t.status}),Object(p.jsx)("div",{children:"user.location.country"+t.id}),Object(p.jsx)("div",{children:"user.location.city"})]})]})},n)},Ce=["users","totalUsersCount","pageSize","currentPage","onPageChange","followingInProgress","follow","unFollow"],ye=function(e){var t=e.users,n=e.totalUsersCount,r=e.pageSize,s=e.currentPage,a=e.onPageChange,o=e.followingInProgress,i=e.follow,c=e.unFollow;Object(I.a)(e,Ce);return Object(p.jsxs)("div",{children:[Object(p.jsx)(ve,{totalItemsCount:n,pageSize:r,currentPage:s,onPageChange:a}),t.map((function(e){return Object(p.jsx)(Se,{user:e,followingInProgress:o,follow:i,unFollow:c},e.id)}))]})},Ne=n.p+"static/media/loading.3b24a6b9.svg",ke=function(){return Object(p.jsx)("img",{src:Ne})},Ie=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e.onPageChange=function(t){e.props.getUsers(t,e.props.pageSize),e.props.setCurrentPage(t)},e.render=function(){return Object(p.jsxs)(p.Fragment,{children:[e.props.isFetching?Object(p.jsx)(ke,{}):null,Object(p.jsx)(ye,{totalUsersCount:e.props.totalUsersCount,pageSize:e.props.pageSize,currentPage:e.props.currentPage,users:e.props.users,follow:e.props.follow,unFollow:e.props.unFollow,onPageChange:e.onPageChange,followingInProgress:e.props.followingInProgress})]})},e}return n}(s.a.Component),Ae={follow:function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ge(n,e,q.followUser.bind(q),je);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ge(n,e,q.unFollowUser.bind(q),fe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:ie,currentPage:e}},getUsers:function(e,t){return function(){var n=Object(Q.a)(K.a.mark((function n(r){var s;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(be(!0)),n.next=3,q.getUsers(e,t);case 3:s=n.sent,r(be(!1)),r((o=s.items,{type:oe,users:o})),r((a=s.totalCount,{type:ce,totalCount:a}));case 7:case"end":return n.stop()}var a,o}),n)})));return function(e){return n.apply(this,arguments)}}()}},Ue=Object(P.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),Ae)(Ie),Fe=n(44),Te=n.n(Fe),Ee=n.p+"static/media/haveajob.11faf55d.jpg",Le=n.p+"static/media/insearchingjob.29a34a7f.jpg",Me=n.p+"static/media/noavatar.3b94960c.jpg",ze=function(e){var t=Object(r.useState)(!1),n=Object(Oe.a)(t,2),s=n[0],a=n[1],o=Object(r.useState)(e.status),i=Object(Oe.a)(o,2),c=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(p.jsxs)("div",{children:[!s&&Object(p.jsx)("div",{children:Object(p.jsxs)("span",{onDoubleClick:function(){a(!0)},children:[" ",e.status||"-----"]})}),s&&Object(p.jsx)("div",{children:Object(p.jsx)("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(c)},value:c})})]})},De=function(e){var t=e.profile,n=e.status,r=e.updateStatus;return t?Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:Te.a.ProfileWrapper,children:[Object(p.jsxs)("div",{className:Te.a.ProfileLeftContent,children:[t.fullName,Object(p.jsx)("div",{className:Te.a.bigAvatar,children:Object(p.jsx)("img",{src:t.photos.large?t.photos.large:Me})}),Object(p.jsx)(ze,{status:n,updateStatus:r})]}),Object(p.jsx)("div",{className:Te.a.ProfileRightContent,children:Object(p.jsxs)("div",{className:Te.a.JobStatus,children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:t.lookingForAJob?Ee:Le})}),Object(p.jsx)("div",{children:t.lookingForAJobDescription})]})})]})}):Object(p.jsx)(ke,{})},Re="ADD_POST",He="SET_USER_PROFILE",Ge="GET_USER_STATUS",Be="SET_STATUS",We={posts:[{id:1,text:"Hello, how are you?",Numlikes:15},{id:2,text:"It's my first post",Numlikes:20}],profile:null,status:""},Je=function(e){return{type:Be,status:e}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:var n={id:3,text:t.newPostText,Numlikes:0};return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(O.a)(e.posts),[n]),newPostText:""});case He:return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case Ge:case Be:return Object(m.a)(Object(m.a)({},e),{},{status:t.status});default:return e}},Ye=n(91),Ke=n.n(Ye),Qe=n(129),Ve=n.n(Qe),Ze=function(e){return Object(p.jsxs)("div",{className:Ve.a.item,children:[Object(p.jsx)("img",{src:"https://klike.net/uploads/posts/2018-06/1528369868_15.jpg"}),e.message,Object(p.jsx)("div",{children:Object(p.jsxs)("span",{children:["Like ",e.Numlikes]})})]})},qe=D(10),$e=Object(k.a)({form:"addPost"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)(N.a,{placeholder:"Type message",component:E,name:"profilePostText",validate:[z,qe]})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Add post"})})]})})),et=s.a.memo((function(e){return Object(p.jsxs)("div",{className:Ke.a.postsBlock,children:[Object(p.jsx)("h3",{children:"My posts"}),Object(p.jsx)("div",{children:Object(p.jsx)($e,{onSubmit:function(t){e.onAddPost(t.profilePostText)}})}),Object(p.jsx)("div",{className:Ke.a.posts,children:e.posts.map((function(e){return Object(p.jsx)(Ze,{message:e.text,Numlikes:e.Numlikes})}))})]})})),tt=Object(P.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{onAddPost:function(t){e(function(e){return{type:Re,newPostText:e}}(t))}}}))(et),nt=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(De,Object(m.a)({},e)),Object(p.jsx)(tt,{})]})},rt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){var t=e.props.match.params.userId;t||(t=e.props.authUserId),t||(t=19291),e.props.setProfile(t),e.props.getUserStatus(t)},e.render=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(nt,Object(m.a)({},e.props))})},e}return n}(s.a.Component),st=Object(J.d)(W,Object(P.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuthorized:e.auth.isAuthorized,authUserId:e.auth.userId}}),{setProfile:function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.setUserProfile(e);case 2:r=t.sent,n({type:He,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.getUserStatus(e);case 2:r=t.sent,n({type:Ge,status:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.updateStatus(e);case 2:0===t.sent.resultCode&&n(Je(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),h.f)(rt),at=n(70),ot=n.n(at),it=function(e){return Object(p.jsxs)("header",{className:ot.a.header,children:["`   ",Object(p.jsx)("img",{src:"https://e7.pngegg.com/pngimages/92/187/png-clipart-logo-company-business-creative-company-logo-free-logo-design-template-company.png"}),Object(p.jsxs)("div",{className:ot.a.loginBlock,children:[null!=e.profile&&null!=e.profile.photos.small?Object(p.jsx)("span",{className:ot.a.avatar,children:Object(p.jsx)("img",{src:e.profile.photos.small})}):"",e.isAuthorized?Object(p.jsxs)("div",{children:[e.login," ",Object(p.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(p.jsx)(b.b,{to:"/login",children:"Login"})]})]})},ct=n(29),ut="SET_USER_DATA",lt="IS_AUTHORIZED",dt="SET_AUTH_PROFILE",jt={userId:null,email:null,login:null,isAuthorized:!1,profile:null},ft=function(e,t,n){return{type:ut,data:{userId:e,email:t,login:n}}},bt=function(e){return{type:lt,isAuthorized:e}},pt=function(){return function(){var e=Object(Q.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:0===(n=e.sent).resultCode?(t(bt(!0)),t(ft(n.data.id,n.data.email,n.data.login))):t(bt(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},gt=function(){return function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:0===e.sent.resultCode&&(t(bt(!1)),t(ft(null,null,null)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(m.a)(Object(m.a)({},e),t.data);case lt:return Object(m.a)(Object(m.a)({},e),{},{isAuthorized:t.isAuthorized});case dt:return Object(m.a)(Object(m.a)({},e),{},{profile:Object(m.a)({},t.profile)});default:return e}},Ot=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).render=function(){return Object(p.jsx)(it,Object(m.a)({},e.props))},e}return n}(s.a.Component),mt=Object(P.b)((function(e){return{isAuthorized:e.auth.isAuthorized,login:e.auth.login,userId:e.auth.userId,profile:e.auth.profile}}),{logout:gt})(Ot),xt=Object(k.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(p.jsxs)("form",{onSubmit:t,children:[M("Email","email",L,[z]),M("Password","password",L,[z],{type:"password"}),M(null,"rememberMe",L,null,{type:"checkbox"},"rememberMe"),n&&Object(p.jsxs)("div",{className:U.a.formSummaryError,children:[n," "]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Login"})})]})})),vt=Object(P.b)((function(e){return{isAuthorized:e.auth.isAuthorized}}),{login:function(e,t,n){return function(){var r=Object(Q.a)(K.a.mark((function r(s){var a,o;return K.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,te(e,t,n);case 2:0===(a=r.sent).resultCode?s(pt()):(o=a.messages.length>0?a.messages[0]:"Some error",s(Object(ct.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},logout:gt})((function(e){return e.isAuthorized?Object(p.jsx)(h.a,{to:"/profile"}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Login"}),Object(p.jsx)(xt,{onSubmit:function(t){var n=t.email,r=t.password,s=t.rememberMe;e.login(n,r,s)}})]})})),_t="SET_SUCCESS",Pt={initialized:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return Object(m.a)(Object(m.a)({},e),{},{initialized:!0});default:return e}},St={},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return e},yt=n(130),Nt=n(123),kt=Object(J.c)({profilePage:Xe,dialogsPage:_,sidebar:Ct,usersPage:he,auth:ht,form:Nt.a,app:wt}),It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,At=Object(J.e)(kt,It(Object(J.a)(yt.a)));window.__store__=At;var Ut=At,Ft=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(p.jsxs)("div",{className:"appWrapper",children:[Object(p.jsx)(mt,{}),Object(p.jsx)(g,{}),Object(p.jsxs)("div",{className:"app-wrapper-content",children:[Object(p.jsx)(h.b,{path:"/dialogs",render:function(){return Object(p.jsx)(X,{})}}),Object(p.jsx)(h.b,{path:"/profile/:userId?",render:function(){return Object(p.jsx)(st,{})}}),Object(p.jsx)(h.b,{path:"/users",render:function(){return Object(p.jsx)(Ue,{})}}),Object(p.jsx)(h.b,{path:"/login",render:function(){return Object(p.jsx)(vt,{})}})]})]}):Object(p.jsx)(ke,{})}}]),n}(s.a.Component),Tt=Object(J.d)(h.f,Object(P.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return alert("\u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"),function(e){var t=e(pt());Promise.all([t]).then((function(){e({type:_t})}))}}}))(Ft),Et=function(e){return Object(p.jsx)(b.a,{children:Object(p.jsx)(P.a,{store:Ut,children:Object(p.jsx)(Tt,{})})})};alert("\u043d\u0430\u0447\u0430\u043b\u043e"),o.a.render(Object(p.jsx)(Et,{}),document.getElementById("root")),i()},37:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1AvAy",error:"FormsControls_error__2CPKG",formSummaryError:"FormsControls_formSummaryError__2HAl2"}},43:function(e,t,n){e.exports={form:"paginator_form__2hLL8",button:"paginator_button__1uG-d",input:"paginator_input__2CrZ5",paginator:"paginator_paginator__3QHfk",pageNumber:"paginator_pageNumber__1oCGD",selectedPage:"paginator_selectedPage__1Y7Vn",selected:"paginator_selected__AX60S",normal:"paginator_normal__1STmZ"}},44:function(e,t,n){e.exports={ProfileWrapper:"ProfileInfo_ProfileWrapper__14a-I",AboutMe:"ProfileInfo_AboutMe__1fLDE",ProfileLeftContent:"ProfileInfo_ProfileLeftContent__2ks7b",ProfileRightContent:"ProfileInfo_ProfileRightContent__-uiaD",bigAvatar:"ProfileInfo_bigAvatar__3quQ5",JobStatus:"ProfileInfo_JobStatus__22fvM"}},70:function(e,t,n){e.exports={header:"Header_header__1tAIr",loginBlock:"Header_loginBlock__25ZUL",avatar:"Header_avatar__15l6K"}},91:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2kKWS",posts:"MyPosts_posts__Cj322"}}},[[288,1,2]]]);
//# sourceMappingURL=main.8274d5e6.chunk.js.map