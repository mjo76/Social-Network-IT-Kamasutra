(this.webpackJsonp02=this.webpackJsonp02||[]).push([[0],{129:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1h9DH",selected:"users_selected__2SrWY",normal:"users_normal__1VBmM"}},130:function(e,t,n){e.exports={content:"Post_content__3C1Pt",item:"Post_item__35nHe"}},16:function(e,t,n){e.exports={nav:"Navbar_nav__1hLu_",item:"Navbar_item__XB9aM",activeLink:"Navbar_activeLink__lwG8R"}},239:function(e,t,n){},28:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__145bH",dialogsItems:"Dialogs_dialogsItems__wkD-u",active:"Dialogs_active__3ceRw",NavLink:"Dialogs_NavLink__36QtR",dialog:"Dialogs_dialog__11Bl7",messages:"Dialogs_messages__1wFQI",message:"Dialogs_message__1XlJr",button:"Dialogs_button__Ydgad"}},288:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(63),o=n.n(a),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),s(e),a(e),o(e)}))},c=n(9),u=n(10),l=n.n(u),d=n(18),j=n(42),f=n(3),b=n(124),p=(n.p,b.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"438f0413-fb9f-45d9-9756-2b432579f6b7"}})),g={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return p.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return p.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return p.delete("follow/".concat(e)).then((function(e){return e.data}))},getUserProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.getUserProfile (id)"),h.getUserProfile(e)},setUserProfile:function(e){return console.warn("Obsolete method. Please use profileAPI.setUserProfile (id)"),h.setUserProfile(e)}},h={getUserProfile:function(e){return p.get("profile/".concat(e)).then((function(e){return e.data}))},setUserProfile:function(e){return p.get("/profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return p.get("/profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return p.put("/profile/status",{status:e}).then((function(e){return e.data}))}},O=function(){return p.get("auth/me").then((function(e){return e.data}))},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},x=function(){return p.delete("auth/login").then((function(e){return e.data}))},v="ADD_POST",_="SET_USER_PROFILE",P="GET_USER_STATUS",w="SET_STATUS",S={posts:[{id:1,text:"Hello, how are you?",Numlikes:15},{id:2,text:"It's my first post",Numlikes:20}],profile:null,status:""},C=function(e){return{type:w,status:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n={id:3,text:t.newPostText,Numlikes:0};return Object(f.a)(Object(f.a)({},e),{},{posts:[].concat(Object(j.a)(e.posts),[n]),newPostText:""});case _:return Object(f.a)(Object(f.a)({},e),{},{profile:t.profile});case P:case w:return Object(f.a)(Object(f.a)({},e),{},{status:t.status});default:return e}},N="ADD_NEW_MESSAGE",k={dialogs:[{id:1,name:"Alex"},{id:2,name:"Ivan"},{id:3,name:"Sveta"},{id:4,name:"Ira"},{id:5,name:"Venik"}],messages:[{id:1,text:"Hi"},{id:2,text:"How are you"},{id:3,text:"Yo"}]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var n={id:4,text:t.newMessageText};return Object(f.a)(Object(f.a)({},e),{},{messages:[].concat(Object(j.a)(e.messages),[n])});default:return e}},A={},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return e},F=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(f.a)(Object(f.a)({},e),r):e}))},T="FOLLOW",E="UNFOLLOW",L="SET_USERS",M="SET_CURRENT_PAGE",z="SET_TOTAL_USERS_COUNT",D="TOGGLE_IS_FETCHING",R="TOGGLE_IS_FOLLOWING",H={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},G=function(e){return{type:T,userId:e}},B=function(e){return{type:E,userId:e}},W=function(e){return{type:D,isFetching:e}},J=function(e,t){return{type:R,isFetching:e,userId:t}},X=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r,s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(J(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(f.a)(Object(f.a)({},e),{},{users:F(e.users,t.userId,"id",{followed:!0})});case E:return Object(f.a)(Object(f.a)({},e),{},{users:F(e.users,t.userId,"id",{followed:!1})});case L:return Object(f.a)(Object(f.a)({},e),{},{users:t.users});case M:return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case z:return Object(f.a)(Object(f.a)({},e),{},{totalUsersCount:t.totalCount});case D:return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.isFetching});case R:return Object(f.a)(Object(f.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(j.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},K=n(29),Q="SET_USER_DATA",V="IS_AUTHORIZED",Z="SET_AUTH_PROFILE",q={userId:null,email:null,login:null,isAuthorized:!1,profile:null},$=function(e,t,n){return{type:Q,data:{userId:e,email:t,login:n}}},ee=function(e){return{type:V,isAuthorized:e}},te=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:0===(n=e.sent).resultCode?(t(ee(!0)),t($(n.data.id,n.data.email,n.data.login))):t(ee(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:0===e.sent.resultCode&&(t(ee(!1)),t($(null,null,null)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(f.a)(Object(f.a)({},e),t.data);case V:return Object(f.a)(Object(f.a)({},e),{},{isAuthorized:t.isAuthorized});case Z:return Object(f.a)(Object(f.a)({},e),{},{profile:Object(f.a)({},t.profile)});default:return e}},se=n(125),ae=n(123),oe="SET_SUCCESS",ie={initialized:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});default:return e}},ue=Object(c.c)({profilePage:y,dialogsPage:I,sidebar:U,usersPage:Y,auth:re,form:ae.a,app:ce}),le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,de=Object(c.e)(ue,le(Object(c.a)(se.a)));window.__store__=de;var je=de,fe=n(25),be=n(66),pe=n(27),ge=n(26),he=(n(239),n(16)),Oe=n.n(he),me=n(13),xe=n(0),ve=function(){return Object(xe.jsxs)("nav",{className:Oe.a.nav,children:[Object(xe.jsx)("div",{className:"".concat(Oe.a.item," ").concat(Oe.a.active),children:Object(xe.jsx)(me.b,{to:"/profile",activeClassName:Oe.a.activeLink,children:"Profile"})}),Object(xe.jsx)("div",{className:Oe.a.item,children:Object(xe.jsx)(me.b,{to:"/dialogs",activeClassName:Oe.a.activeLink,children:"Messages"})}),Object(xe.jsx)("div",{className:Oe.a.item,children:Object(xe.jsx)(me.b,{to:"/users",activeClassName:Oe.a.activeLink,children:"Users"})}),Object(xe.jsx)("div",{className:Oe.a.item,children:Object(xe.jsx)(me.b,{to:"/news",activeClassName:Oe.a.activeLink,children:"News"})}),Object(xe.jsx)("div",{className:Oe.a.item,children:Object(xe.jsx)(me.b,{to:"/music",activeClassName:Oe.a.activeLink,children:"Music"})}),Object(xe.jsx)("div",{className:Oe.a.item,children:Object(xe.jsx)(me.b,{to:"/settings",activeClassName:Oe.a.activeLink,children:"Settings"})})]})},_e=n(12),Pe=n(11),we=n(28),Se=n.n(we),Ce=function(e){var t="/dialogs/"+e.id;return Object(xe.jsx)("div",{className:Se.a.dialog+" "+Se.a.active,children:Object(xe.jsx)(me.b,{to:t,children:e.name})})},ye=function(e){return Object(xe.jsx)("div",{className:Se.a.message,children:e.text})},Ne=n(121),ke=n(122),Ie=n(67),Ae=n(37),Ue=n.n(Ae),Fe=["input","meta","FormType"],Te=function(e){var t=e.input,n=e.meta,r=n.error,s=n.touched,a=e.FormType,o=Object(Ie.a)(e,Fe),i=r&&s;return Object(xe.jsxs)("div",{className:Ue.a.formControl+" "+(i?Ue.a.error:""),children:[Object(xe.jsx)("div",{children:Object(xe.jsx)(a,Object(f.a)(Object(f.a)({},t),o))}),Object(xe.jsx)("span",{children:i&&r})]})},Ee=function(e){return Object(xe.jsx)(Te,Object(f.a)(Object(f.a)({},e),{},{FormType:"textarea"}))},Le=function(e){return Object(xe.jsx)(Te,Object(f.a)(Object(f.a)({},e),{},{FormType:"input"}))},Me=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(xe.jsxs)("div",{children:[Object(xe.jsx)(Ne.a,Object(f.a)({placeholder:e,name:t,component:n,validate:r},s)),a]})},ze=function(e){if(!e)return"Field is required"},De=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},Re=De(50),He=Object(ke.a)({form:"addMessage"})((function(e){return Object(xe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(xe.jsx)("div",{children:Object(xe.jsx)("button",{className:Se.a.button,children:" Add message"})}),Object(xe.jsx)("div",{children:Object(xe.jsx)(Ne.a,{placeholder:"Enter your message",component:Ee,name:"dialogsAddMessage",validate:[ze,Re]})})]})})),Ge=function(e){return Object(xe.jsxs)("div",{className:Se.a.dialogs,children:[Object(xe.jsxs)("div",{className:Se.a.dialogsItems,children:[e.dialogsState.dialogs.map((function(e){return Object(xe.jsx)(Ce,{name:e.name,id:e.id})})),Object(xe.jsx)(He,{onSubmit:function(t){e.onAddMessageClick(t.dialogsAddMessage)}})]}),Object(xe.jsx)("div",{className:Se.a.messages,children:e.dialogsState.messages.map((function(e){return Object(xe.jsx)(ye,{text:e.text})}))})]})},Be=function(e){return{isAuth:e.auth.isAuthorized}},We=function(e){var t=function(t){Object(pe.a)(r,t);var n=Object(ge.a)(r);function r(){return Object(fe.a)(this,r),n.apply(this,arguments)}return Object(be.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(xe.jsx)(e,Object(f.a)({},this.props)):Object(xe.jsx)(_e.a,{to:"/login"})}}]),r}(s.a.Component);return Object(Pe.b)(Be,null)(t)},Je=Object(c.d)(We,Object(Pe.b)((function(e){return{dialogsState:e.dialogsPage}}),(function(e){return{onAddMessageClick:function(t){e({type:N,newMessageText:t})}}})))(Ge),Xe=n(54),Ye=n(43),Ke=n.n(Ye),Qe=function(e){for(var t,n=e.totalItemsCount,s=e.pageSize,a=e.currentPage,o=void 0===a?1:a,i=e.onPageChange,c=e.portionSize,u=void 0===c?10:c,l=function(e){i((e-1)*u+1),m(e)},d=(t=Math.ceil(n/s),function(e){if(e&&e>t)return"Max number is ".concat(t)}),j=Object(ke.a)({form:"pageNum"})((function(e){var t=e.handleSubmit,n=e.error;return Object(xe.jsxs)("form",{className:Ke.a.form,onSubmit:t,children:[Me("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","pageNum",Le,[d],{type:"input"}),n&&Object(xe.jsxs)("div",{className:Ue.a.formSummaryError,children:[n," "]}),Object(xe.jsx)("div",{children:Object(xe.jsx)("button",{className:Ke.a.button,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]})})),f=Math.ceil(n/s),b=[],p=Math.ceil(f/u),g=Object(r.useState)(Math.ceil(o/u,0)),h=Object(Xe.a)(g,2),O=h[0],m=h[1],x=(O-1)*u+1,v=O*u,_=0;_<f;_++)b[_]=_+1;return Object(xe.jsxs)("div",{className:Ke.a.paginator,children:[O>1&&Object(xe.jsx)("button",{onClick:function(){return l(1)},children:"<<"}),O>1&&Object(xe.jsx)("button",{onClick:function(){return l(O-1)},children:"<"}),b.filter((function(e){return e>=x&&e<=v})).map((function(e){return Object(xe.jsx)("span",{className:+o===+e?Ke.a.selectedPage:Ke.a.pageNumber,onClick:function(t){i(e)},children:e})})),O<p&&Object(xe.jsx)("button",{onClick:function(){return l(O+1)},children:">"}),O<p&&Object(xe.jsx)("button",{onClick:function(){return l(p)},children:">>"}),Object(xe.jsx)(j,{onSubmit:function(e){i(e.pageNum),m(Math.ceil(e.pageNum/u),0)}})]})},Ve=n(129),Ze=n.n(Ve),qe=n.p+"static/media/defaultuserphoto.b0631ea7.png",$e=function(e){var t=e.user,n=e.key,r=e.followingInProgress,s=e.follow,a=e.unFollow;return Object(xe.jsx)("div",{children:Object(xe.jsxs)("span",{children:[Object(xe.jsx)("div",{children:Object(xe.jsx)(me.b,{to:"/profile/"+t.id,children:Object(xe.jsx)("img",{src:null!=t.photos.small?t.photos.small:qe,className:Ze.a.userPhoto})})}),Object(xe.jsx)("div",{children:t.followed?Object(xe.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(xe.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Follow"})}),Object(xe.jsxs)("span",{children:[Object(xe.jsx)("div",{children:t.name}),Object(xe.jsx)("div",{children:t.status}),Object(xe.jsx)("div",{children:"user.location.country"+t.id}),Object(xe.jsx)("div",{children:"user.location.city"})]})]})},n)},et=["users","totalUsersCount","pageSize","currentPage","onPageChange","followingInProgress","follow","unFollow"],tt=function(e){var t=e.users,n=e.totalUsersCount,r=e.pageSize,s=e.currentPage,a=e.onPageChange,o=e.followingInProgress,i=e.follow,c=e.unFollow;Object(Ie.a)(e,et);return Object(xe.jsxs)("div",{children:[Object(xe.jsx)(Qe,{totalItemsCount:n,pageSize:r,currentPage:s,onPageChange:a}),t.map((function(e){return Object(xe.jsx)($e,{user:e,followingInProgress:o,follow:i,unFollow:c},e.id)}))]})},nt=n.p+"static/media/loading.3b24a6b9.svg",rt=function(){return Object(xe.jsx)("img",{src:nt})},st=function(e){Object(pe.a)(n,e);var t=Object(ge.a)(n);function n(){var e;Object(fe.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.pageSize)},e.onPageChange=function(t){e.props.getUsers(t,e.props.pageSize),e.props.setCurrentPage(t)},e.render=function(){return Object(xe.jsxs)(xe.Fragment,{children:[e.props.isFetching?Object(xe.jsx)(rt,{}):null,Object(xe.jsx)(tt,{totalUsersCount:e.props.totalUsersCount,pageSize:e.props.pageSize,currentPage:e.props.currentPage,users:e.props.users,follow:e.props.follow,unFollow:e.props.unFollow,onPageChange:e.onPageChange,followingInProgress:e.props.followingInProgress})]})},e}return n}(s.a.Component),at={follow:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(n,e,g.followUser.bind(g),G);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(n,e,g.unFollowUser.bind(g),B);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:M,currentPage:e}},getUsers:function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(r){var s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(W(!0)),n.next=3,g.getUsers(e,t);case 3:s=n.sent,r(W(!1)),r((o=s.items,{type:L,users:o})),r((a=s.totalCount,{type:z,totalCount:a}));case 7:case"end":return n.stop()}var a,o}),n)})));return function(e){return n.apply(this,arguments)}}()}},ot=Object(Pe.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),at)(st),it=n(44),ct=n.n(it),ut=n.p+"static/media/haveajob.11faf55d.jpg",lt=n.p+"static/media/insearchingjob.29a34a7f.jpg",dt=n.p+"static/media/noavatar.3b94960c.jpg",jt=function(e){var t=Object(r.useState)(!1),n=Object(Xe.a)(t,2),s=n[0],a=n[1],o=Object(r.useState)(e.status),i=Object(Xe.a)(o,2),c=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(xe.jsxs)("div",{children:[!s&&Object(xe.jsx)("div",{children:Object(xe.jsxs)("span",{onDoubleClick:function(){a(!0)},children:[" ",e.status||"-----"]})}),s&&Object(xe.jsx)("div",{children:Object(xe.jsx)("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(c)},value:c})})]})},ft=function(e){var t=e.profile,n=e.status,r=e.updateStatus;return t?Object(xe.jsx)("div",{children:Object(xe.jsxs)("div",{className:ct.a.ProfileWrapper,children:[Object(xe.jsxs)("div",{className:ct.a.ProfileLeftContent,children:[t.fullName,Object(xe.jsx)("div",{className:ct.a.bigAvatar,children:Object(xe.jsx)("img",{src:t.photos.large?t.photos.large:dt})}),Object(xe.jsx)(jt,{status:n,updateStatus:r})]}),Object(xe.jsx)("div",{className:ct.a.ProfileRightContent,children:Object(xe.jsxs)("div",{className:ct.a.JobStatus,children:[Object(xe.jsx)("div",{children:Object(xe.jsx)("img",{src:t.lookingForAJob?ut:lt})}),Object(xe.jsx)("div",{children:t.lookingForAJobDescription})]})})]})}):Object(xe.jsx)(rt,{})},bt=n(91),pt=n.n(bt),gt=n(130),ht=n.n(gt),Ot=function(e){return Object(xe.jsxs)("div",{className:ht.a.item,children:[Object(xe.jsx)("img",{src:"https://klike.net/uploads/posts/2018-06/1528369868_15.jpg"}),e.message,Object(xe.jsx)("div",{children:Object(xe.jsxs)("span",{children:["Like ",e.Numlikes]})})]})},mt=De(10),xt=Object(ke.a)({form:"addPost"})((function(e){return Object(xe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(xe.jsx)("div",{children:Object(xe.jsx)(Ne.a,{placeholder:"Type message",component:Ee,name:"profilePostText",validate:[ze,mt]})}),Object(xe.jsx)("div",{children:Object(xe.jsx)("button",{children:"Add post"})})]})})),vt=s.a.memo((function(e){return Object(xe.jsxs)("div",{className:pt.a.postsBlock,children:[Object(xe.jsx)("h3",{children:"My posts"}),Object(xe.jsx)("div",{children:Object(xe.jsx)(xt,{onSubmit:function(t){e.onAddPost(t.profilePostText)}})}),Object(xe.jsx)("div",{className:pt.a.posts,children:e.posts.map((function(e){return Object(xe.jsx)(Ot,{message:e.text,Numlikes:e.Numlikes})}))})]})})),_t=Object(Pe.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{onAddPost:function(t){e(function(e){return{type:v,newPostText:e}}(t))}}}))(vt),Pt=function(e){return Object(xe.jsxs)("div",{children:[Object(xe.jsx)(ft,Object(f.a)({},e)),Object(xe.jsx)(_t,{})]})},wt=function(e){Object(pe.a)(n,e);var t=Object(ge.a)(n);function n(){var e;Object(fe.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){var t=e.props.match.params.userId;t||(t=e.props.authUserId),t||(t=19291),e.props.setProfile(t),e.props.getUserStatus(t)},e.render=function(){return Object(xe.jsx)("div",{children:Object(xe.jsx)(Pt,Object(f.a)({},e.props))})},e}return n}(s.a.Component),St=Object(c.d)(We,Object(Pe.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuthorized:e.auth.isAuthorized,authUserId:e.auth.userId}}),{setProfile:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.setUserProfile(e);case 2:r=t.sent,n({type:_,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getUserStatus(e);case 2:r=t.sent,n({type:P,status:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.updateStatus(e);case 2:0===t.sent.resultCode&&n(C(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),_e.f)(wt),Ct=n(70),yt=n.n(Ct),Nt=function(e){return Object(xe.jsxs)("header",{className:yt.a.header,children:["`   ",Object(xe.jsx)("img",{src:"https://e7.pngegg.com/pngimages/92/187/png-clipart-logo-company-business-creative-company-logo-free-logo-design-template-company.png"}),Object(xe.jsxs)("div",{className:yt.a.loginBlock,children:[null!=e.profile&&null!=e.profile.photos.small?Object(xe.jsx)("span",{className:yt.a.avatar,children:Object(xe.jsx)("img",{src:e.profile.photos.small})}):"",e.isAuthorized?Object(xe.jsxs)("div",{children:[e.login," ",Object(xe.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(xe.jsx)(me.b,{to:"/login",children:"Login"})]})]})},kt=function(e){Object(pe.a)(n,e);var t=Object(ge.a)(n);function n(){var e;Object(fe.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).render=function(){return Object(xe.jsx)(Nt,Object(f.a)({},e.props))},e}return n}(s.a.Component),It=Object(Pe.b)((function(e){return{isAuthorized:e.auth.isAuthorized,login:e.auth.login,userId:e.auth.userId,profile:e.auth.profile}}),{logout:ne})(kt),At=Object(ke.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(xe.jsxs)("form",{onSubmit:t,children:[Me("Email","email",Le,[ze]),Me("Password","password",Le,[ze],{type:"password"}),Me(null,"rememberMe",Le,null,{type:"checkbox"},"rememberMe"),n&&Object(xe.jsxs)("div",{className:Ue.a.formSummaryError,children:[n," "]}),Object(xe.jsx)("div",{children:Object(xe.jsx)("button",{children:"Login"})})]})})),Ut=Object(Pe.b)((function(e){return{isAuthorized:e.auth.isAuthorized}}),{login:function(e,t,n){return function(){var r=Object(d.a)(l.a.mark((function r(s){var a,o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m(e,t,n);case 2:0===(a=r.sent).resultCode?s(te()):(o=a.messages.length>0?a.messages[0]:"Some error",s(Object(K.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},logout:ne})((function(e){return e.isAuthorized?Object(xe.jsx)(_e.a,{to:"/profile"}):Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h1",{children:"Login"}),Object(xe.jsx)(At,{onSubmit:function(t){var n=t.email,r=t.password,s=t.rememberMe;e.login(n,r,s)}})]})})),Ft=function(e){Object(pe.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(fe.a)(this,n),t.apply(this,arguments)}return Object(be.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(xe.jsxs)("div",{className:"appWrapper",children:[Object(xe.jsx)(It,{}),Object(xe.jsx)(ve,{}),Object(xe.jsxs)("div",{className:"app-wrapper-content",children:[Object(xe.jsx)(_e.b,{path:"/dialogs",render:function(){return Object(xe.jsx)(Je,{})}}),Object(xe.jsx)(_e.b,{path:"/profile/:userId?",render:function(){return Object(xe.jsx)(St,{})}}),Object(xe.jsx)(_e.b,{path:"/users",render:function(){return Object(xe.jsx)(ot,{})}}),Object(xe.jsx)(_e.b,{path:"/login",render:function(){return Object(xe.jsx)(Ut,{})}})]})]}):Object(xe.jsx)(rt,{})}}]),n}(s.a.Component),Tt=Object(c.d)(_e.f,Object(Pe.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(te());Promise.all([t]).then((function(){e({type:oe})}))}}}))(Ft),Et=function(e){return Object(xe.jsx)(me.a,{children:Object(xe.jsx)(Pe.a,{store:je,children:Object(xe.jsx)(Tt,{})})})};o.a.render(Object(xe.jsx)(Et,{}),document.getElementById("root")),i()},37:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1AvAy",error:"FormsControls_error__2CPKG",formSummaryError:"FormsControls_formSummaryError__2HAl2"}},43:function(e,t,n){e.exports={form:"paginator_form__2hLL8",button:"paginator_button__1uG-d",input:"paginator_input__2CrZ5",paginator:"paginator_paginator__3QHfk",pageNumber:"paginator_pageNumber__1oCGD",selectedPage:"paginator_selectedPage__1Y7Vn",selected:"paginator_selected__AX60S",normal:"paginator_normal__1STmZ"}},44:function(e,t,n){e.exports={ProfileWrapper:"ProfileInfo_ProfileWrapper__14a-I",AboutMe:"ProfileInfo_AboutMe__1fLDE",ProfileLeftContent:"ProfileInfo_ProfileLeftContent__2ks7b",ProfileRightContent:"ProfileInfo_ProfileRightContent__-uiaD",bigAvatar:"ProfileInfo_bigAvatar__3quQ5",JobStatus:"ProfileInfo_JobStatus__22fvM"}},70:function(e,t,n){e.exports={header:"Header_header__1tAIr",loginBlock:"Header_loginBlock__25ZUL",avatar:"Header_avatar__15l6K"}},91:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2kKWS",posts:"MyPosts_posts__Cj322"}}},[[288,1,2]]]);
//# sourceMappingURL=main.86076144.chunk.js.map